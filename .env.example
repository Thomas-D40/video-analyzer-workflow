# Environment
ENV=development

# Database
DATABASE_URL=mongodb://localhost:27017
MONGO_DB_NAME=video_analyzer

# OpenAI API
OPENAI_API_KEY=sk-...
OPENAI_MODEL=gpt-4o-mini
OPENAI_SMART_MODEL=gpt-4o

# API Security
ALLOWED_API_KEYS=your-secret-key-1,your-secret-key-2

# Admin Dashboard Security (Optional - leave empty for local dev)
# Username: admin
# Password: set via this variable
ADMIN_PASSWORD=your-admin-password

# ============================================================================
# Enrichment - Smart Full-Text Filtering (NEW!)
# ============================================================================

# ANALYSIS MODES (Configured per API request):
# Users can choose analysis depth via the "analysis_mode" parameter in API requests:
#
# 1. "simple"  - Fast & Cheap (~$0.01/argument)
#    - Uses abstracts only, no full-text fetching
#    - Best for: Quick overviews, budget-conscious use
#
# 2. "medium"  - Balanced (~$0.46/argument)
#    - Fetches 3 full-text articles (top-ranked by relevance)
#    - Relevance threshold: 0.6
#    - Best for: Most use cases, good quality/cost ratio
#
# 3. "hard"    - Thorough (~$0.70/argument)
#    - Fetches 6 full-text articles
#    - Relevance threshold: 0.5 (more lenient)
#    - Best for: Critical fact-checking, important decisions
#
# Example API request:
# {
#   "url": "https://youtube.com/watch?v=...",
#   "analysis_mode": "medium"
# }

# Enable MCP web-fetch server for full-text retrieval
# Requires: uv pip install mcp-science
# NOTE: This must be enabled for "medium" and "hard" modes to work
MCP_WEB_FETCH_ENABLED=true

# Timeout for web fetch requests (seconds)
MCP_WEB_FETCH_TIMEOUT=30

# ============================================================================
# Advanced Settings (Optional - defaults are good for most cases)
# ============================================================================

# These settings are now managed by analysis_mode, but can be used
# for custom configurations if needed:

# Enable AI-powered relevance screening before fetching full texts
# Uses GPT-4o-mini to score source relevance (cheap: ~$0.0001/argument)
# FULLTEXT_SCREENING_ENABLED=true

# Number of top-ranked sources to fetch full text for
# FULLTEXT_TOP_N=3

# Minimum relevance score (0.0-1.0) to fetch full text
# FULLTEXT_MIN_SCORE=0.6
