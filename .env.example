# Environment
ENV=development

# Database
DATABASE_URL=mongodb://localhost:27017
MONGO_DB_NAME=video_analyzer

# OpenAI API
OPENAI_API_KEY=sk-...
OPENAI_MODEL=gpt-4o-mini
OPENAI_SMART_MODEL=gpt-4o

# API Security
ALLOWED_API_KEYS=your-secret-key-1,your-secret-key-2

# ============================================================================
# Enrichment - Smart Full-Text Filtering (NEW!)
# ============================================================================

# Enable MCP web-fetch server for full-text retrieval
# Requires: uv pip install mcp-science
MCP_WEB_FETCH_ENABLED=true

# Timeout for web fetch requests (seconds)
MCP_WEB_FETCH_TIMEOUT=30

# Enable AI-powered relevance screening before fetching full texts
# Uses GPT-4o-mini to score source relevance (cheap: ~$0.0001/argument)
FULLTEXT_SCREENING_ENABLED=true

# Number of top-ranked sources to fetch full text for
# Higher = better quality, higher cost
# Recommended: 3 (balanced), 2 (conservative), 5 (aggressive)
FULLTEXT_TOP_N=3

# Minimum relevance score (0.0-1.0) to fetch full text
# Higher = stricter filtering, fewer full texts
# Recommended: 0.6 (balanced), 0.8 (strict), 0.5 (lenient)
FULLTEXT_MIN_SCORE=0.6

# ============================================================================
# Configuration Presets
# ============================================================================

# Conservative (Cheapest - ~$0.30/argument):
# FULLTEXT_TOP_N=2
# FULLTEXT_MIN_SCORE=0.8

# Balanced (Recommended - ~$0.46/argument):
# FULLTEXT_TOP_N=3
# FULLTEXT_MIN_SCORE=0.6

# Aggressive (Highest Quality - ~$0.70/argument):
# FULLTEXT_TOP_N=5
# FULLTEXT_MIN_SCORE=0.5

# Abstracts Only (No Enrichment - ~$0.01/argument):
# MCP_WEB_FETCH_ENABLED=false
# FULLTEXT_SCREENING_ENABLED=false
